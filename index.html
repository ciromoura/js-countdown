<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Countdown</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    <div id="base">
        <div id="principal">
            <div id="relogio-base">
                <div id="relogio">
                    <div id="tempo">00:00</div>
                </div>
            </div>

            <div id="cartao">
                <p id="texto">Digite quantos minutos:</p>
                <input id="entrada" type="number">
                <button id="enviar" onclick="start()">
                    Iniciar
                </button>
            </div>

        </div>
    </div>

</body>

<script>

    let startingMinutes = 25;
    let time = startingMinutes * 60;
    let countdownEl = document.getElementById('tempo');
    let check;

    function start() {
        startingMinutes = document.getElementById('entrada').value;
        time = startingMinutes * 60;

        document.getElementById('entrada').value = '';

        check = setInterval(updateCountdown, 1000);
    }

    function updateCountdown() {

        if (time < 0) {
            alert("Acabou!");
            clearInterval(check);
        } else {
            const minutes = Math.floor(time / 60);
            let seconds = time % 60;
            seconds = seconds < 10 ? '0' + seconds : seconds;
            countdownEl.innerHTML = `${minutes}:${seconds}`;
            time--;
        }
    }


</script>

</html>
